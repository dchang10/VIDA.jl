<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API · VIDA.jl</title><script data-outdated-warner src="../../assets/warner.js"></script><link rel="canonical" href="https://ptiede.github.io/VIDA.jl/api/function_index/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">VIDA.jl</a></span></div><form class="docs-search" action="../../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../interface/">Interfaces</a></li><li><a class="tocitem" href="../../generated/introduction/">Introduction to VIDA</a></li><li><a class="tocitem" href="../../generated/custom_template/">Adding a Custom Template</a></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li><li><a class="tocitem" href="#Index"><span>Index</span></a></li><li><a class="tocitem" href="#Templates"><span>Templates</span></a></li><li><a class="tocitem" href="#Images"><span>Images</span></a></li><li><a class="tocitem" href="#Movies"><span>Movies</span></a></li><li><a class="tocitem" href="#Divergences"><span>Divergences</span></a></li><li><a class="tocitem" href="#Extractor"><span>Extractor</span></a></li><li><a class="tocitem" href="#Visualizations"><span>Visualizations</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ptiede/VIDA.jl/blob/master/docs/src/api/function_index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="#API">API</a></li><li class="no-marker"><ul><li><a href="#Contents">Contents</a></li><li><a href="#Index">Index</a></li><li><a href="#Templates">Templates</a></li><li><a href="#Images">Images</a></li><li><a href="#Movies">Movies</a></li><li><a href="#Divergences">Divergences</a></li><li><a href="#Extractor">Extractor</a></li><li><a href="#Visualizations">Visualizations</a></li></ul></li></ul><h2 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h2><ul><li><a href="#VIDA.AbstractDivergence"><code>VIDA.AbstractDivergence</code></a></li><li><a href="#VIDA.AzimuthalCosine"><code>VIDA.AzimuthalCosine</code></a></li><li><a href="#VIDA.AzimuthalUniform"><code>VIDA.AzimuthalUniform</code></a></li><li><a href="#VIDA.Bhattacharyya"><code>VIDA.Bhattacharyya</code></a></li><li><a href="#VIDA.Constant"><code>VIDA.Constant</code></a></li><li><a href="#VIDA.CosineRing"><code>VIDA.CosineRing</code></a></li><li><a href="#VIDA.GaussDisk"><code>VIDA.GaussDisk</code></a></li><li><a href="#VIDA.KullbackLeibler"><code>VIDA.KullbackLeibler</code></a></li><li><a href="#VIDA.LeastSquares"><code>VIDA.LeastSquares</code></a></li><li><a href="#VIDA.LogSpiral"><code>VIDA.LogSpiral</code></a></li><li><a href="#VIDA.RadialDblPower"><code>VIDA.RadialDblPower</code></a></li><li><a href="#VIDA.RadialGaussian"><code>VIDA.RadialGaussian</code></a></li><li><a href="#VIDA.RadialTruncExp"><code>VIDA.RadialTruncExp</code></a></li><li><a href="#VIDA.Renyi"><code>VIDA.Renyi</code></a></li><li><a href="#VIDA.RingTemplate"><code>VIDA.RingTemplate</code></a></li><li><a href="#VIDA.VIDAMovie"><code>VIDA.VIDAMovie</code></a></li><li><a href="#ComradeBase.flux-Tuple{VIDAMovie, Any}"><code>ComradeBase.flux</code></a></li><li><a href="#VIDA.CosineRingwFloor"><code>VIDA.CosineRingwFloor</code></a></li><li><a href="#VIDA.CosineRingwGFloor"><code>VIDA.CosineRingwGFloor</code></a></li><li><a href="#VIDA.EllipticalCosineRing"><code>VIDA.EllipticalCosineRing</code></a></li><li><a href="#VIDA.EllipticalGaussianRing"><code>VIDA.EllipticalGaussianRing</code></a></li><li><a href="#VIDA.GaussianRing"><code>VIDA.GaussianRing</code></a></li><li><a href="#VIDA.SlashedGaussianRing"><code>VIDA.SlashedGaussianRing</code></a></li><li><a href="#VIDA.blur-Tuple{VIDAMovie, Any}"><code>VIDA.blur</code></a></li><li><a href="#VIDA.clipimage"><code>VIDA.clipimage</code></a></li><li><a href="#VIDA.get_frames"><code>VIDA.get_frames</code></a></li><li><a href="#VIDA.get_image"><code>VIDA.get_image</code></a></li><li><a href="#VIDA.get_times"><code>VIDA.get_times</code></a></li><li><a href="#VIDA.join_frames"><code>VIDA.join_frames</code></a></li><li><a href="#VIDA.load_hdf5"><code>VIDA.load_hdf5</code></a></li><li><a href="#VIDA.save_hdf5"><code>VIDA.save_hdf5</code></a></li><li><a href="#VIDA.triptic"><code>VIDA.triptic</code></a></li></ul><h2 id="Templates"><a class="docs-heading-anchor" href="#Templates">Templates</a><a id="Templates-1"></a><a class="docs-heading-anchor-permalink" href="#Templates" title="Permalink"></a></h2><p>These are the various template types in VIDA and VLBISkyModels.</p><article class="docstring"><header><a class="docstring-binding" id="VIDA.LogSpiral" href="#VIDA.LogSpiral"><code>VIDA.LogSpiral</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct LogSpiral{T&lt;:Real} &lt;: VIDA.AbstractImageTemplate</code></pre><p>Template type for a logarithmic spiral segment</p><p><strong>Fields</strong></p><ul><li><p><code>κ</code>:  Unit curvature of the logarithmic spiral</p></li><li><p><code>σ</code>:  thickness of the Gaussian spiral arm</p></li><li><p><code>δϕ</code>:  Azimuthal extent of the spiral arm</p></li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/image.jl#LL1-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.Constant" href="#VIDA.Constant"><code>VIDA.Constant</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Constant{T} &lt;: VIDA.AbstractImageTemplate</code></pre><p>An constant template.</p><p><strong>Details</strong></p><p>Defines an image that just has constant flux. This is very useful for soaking up low levels of flux in image reconstructions that can bias the results.</p><p>Since images or normalized to unity, this means the <code>Constant</code> template has no additional parameters.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/image.jl#LL54-L64">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.GaussDisk" href="#VIDA.GaussDisk"><code>VIDA.GaussDisk</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct GaussDisk{T} &lt;: VIDA.AbstractImageTemplate</code></pre><p>A smoothed disk model</p><p><strong>Details</strong></p><p>Defines a template for an image that has a smoothed disk model.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/image.jl#LL71-L79">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.RingTemplate" href="#VIDA.RingTemplate"><code>VIDA.RingTemplate</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct RingTemplate{R&lt;:VIDA.AbstractRadial, A&lt;:VIDA.AbstractAzimuthal} &lt;: VIDA.AbstractImageTemplate</code></pre><p>A flexible ring template that forms a ring by taking the product of a radial and azimuthal brightness profile.</p><p>A list of radial profiles is given by <code>subtypes(AbstractRadial)</code></p><p>A list of azimuthal profiles is given by <code>subtypes(AbstractAzimuthal)</code></p><p><strong>Examples</strong></p><pre><code class="language-julia-repl hljs">julia&gt; rad = RadialGaussian(0.1)
julia&gt; azi = AzimuthalUniform()
julia&gt; ring = modify(RingTemplate(rad, azi), Stretch(10.0), Shift(1.0, 2.0))</code></pre><p><strong>Fields</strong></p><ul><li><code>radial</code>: Radial profile of the ring</li></ul><ul><li><code>azimuthal</code>: Azimuthal profile of the ring</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL12-L31">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.RadialGaussian" href="#VIDA.RadialGaussian"><code>VIDA.RadialGaussian</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RadialGaussian(σ)</code></pre><p>Create a profile that is a radial gaussian ring with radius unity and standard deviation <code>σ</code>.</p><p><strong>Notes</strong></p><p>This is usually couple with a azimuthal profile to create a general ring template</p><pre><code class="language-julia hljs">julia&gt; rad = RadialGaussian(0.1)
julia&gt; azi = AzimuthalUniform()
julia&gt; t = RingTemplate(rad, azi)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL55-L69">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.RadialDblPower" href="#VIDA.RadialDblPower"><code>VIDA.RadialDblPower</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RadialDblPower(αinner, αouter)</code></pre><p>Radial profile that given by a double power-law with the function form</p><pre><code class="nohighlight hljs">    r^αinner*inv(1+ r^(αinner + αouter + 1))
    ```

## Notes
This is usually couple with a azimuthal profile to create a general ring template
</code></pre><p>julia julia&gt; rad = RadialDblPower(3.0, 3.0) julia&gt; azi = AzimuthalUniform() julia&gt; t = RingTemplate(rad, azi) ```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL81-L97">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.RadialTruncExp" href="#VIDA.RadialTruncExp"><code>VIDA.RadialTruncExp</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">RadialTruncExp(σ)</code></pre><p>Radial profile that has a exponential profile up to a cutoff radius of 1 where for <code>r&lt;1</code> the profile is identically zero.</p><p><strong>Notes</strong></p><p>This is usually couple with a azimuthal profile to create a general ring template</p><pre><code class="language-julia hljs">julia&gt; rad = RadialTruncExp(2.0)
julia&gt; azi = AzimuthalUniform()
julia&gt; t = RingTemplate(rad, azi)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL112-L126">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.AzimuthalUniform" href="#VIDA.AzimuthalUniform"><code>VIDA.AzimuthalUniform</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AzimuthalUniform()</code></pre><p>A azimuthal profile that is uniform for all angles.</p><p><strong>Notes</strong></p><p>This is usually couple with a radial profile to create a general ring template</p><pre><code class="language-julia hljs">julia&gt; rad = RadialDblPower(3.0, 3.0)
julia&gt; azi = AzimuthalUniform() # Defaults to Float64
julia&gt; t = RingTemplate(rad, azi)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL140-L153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.AzimuthalCosine" href="#VIDA.AzimuthalCosine"><code>VIDA.AzimuthalCosine</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AzimuthalCosine(s::NTuple{N}, ξ::NTuple{N, T})</code></pre><p>A azimuthal profile that is  given by a cosine expansion of order <code>N</code>. The expansion is given by</p><pre><code class="nohighlight hljs">    1 - ∑ₙ sₙcos(nϕ - ξₙ)</code></pre><p><strong>Notes</strong></p><p>This is usually couple with a radial profile to create a general ring template</p><pre><code class="language-julia hljs">julia&gt; rad = RadialDblPower(3.0, 3.0)
julia&gt; azi = AzimuthalCosine((0.5, 0.2), (0.0, π/4)) # Defaults to Float64
julia&gt; t = RingTemplate(rad, azi)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL159-L177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.GaussianRing" href="#VIDA.GaussianRing"><code>VIDA.GaussianRing</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">GaussianRing(σ)
</code></pre><p>Implements the gaussian ring template.</p><p><strong>Notes</strong></p><p>This is a convienence constructor that uses <a href="#VIDA.RingTemplate"><code>RingTemplate</code></a> under the hood. To create this function your self do</p><pre><code class="language-julia hljs">RingTemplate(RadialGaussian(σ), AzimuthalUniform())</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL192-L205">source</a></section><section><div><pre><code class="language-julia hljs">GaussianRing(r0, σ, x0, y0)
</code></pre><p>Implements the gaussian ring template.</p><p><strong>Notes</strong></p><p>This is a convienence constructor that uses <a href="#VIDA.RingTemplate"><code>RingTemplate</code></a> under the hood. To create this function your self do</p><pre><code class="language-julia hljs">modify(GaussianRing(σ/r0), Stretch(r0), Shift(x0, y0))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL208-L221">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.CosineRing" href="#VIDA.CosineRing"><code>VIDA.CosineRing</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct CosineRing{N, M, T} &lt;: VIDA.AbstractImageTemplate</code></pre><p>Extrememly flexible symmetric ring model. The thickness is modeled as a cosine expansion with <code>N</code> terms and the slash by a expansion with <code>M</code> terms.</p><p><strong>Details</strong></p><p>The ring is forced to be symmetric for a significant speed boost over CosineRing. The thickness of the ring is modeled by a cosine expansion in azimuthal angle. <code>N</code> specifies the number of cosine modes to fit, where the first mode is the constant thickness portion and so has no corresponding angle. The slash is modeled as a separate cosine expansion, with <code>M</code> terms. Here the zero order term is forced to be unity, so <code>M</code> defines the <code>M</code> additional terms.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/cosinering.jl#LL3-L18">source</a></section></article><p>In addition in VIDA we define a number of helper functions for commonly used templates</p><article class="docstring"><header><a class="docstring-binding" id="VIDA.SlashedGaussianRing" href="#VIDA.SlashedGaussianRing"><code>VIDA.SlashedGaussianRing</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">SlashedGaussianRing(σ, s)
</code></pre><p>Implements the slashed gaussian ring template, that uses a cosine to implement the slash and has a brightness position angle of 0 degrees east of north.</p><p><strong>Notes</strong></p><p>This is a convienence constructor that uses <a href="#VIDA.RingTemplate"><code>RingTemplate</code></a> under the hood. To create this function your self do</p><p><strong>Arguments</strong></p><ul><li><code>σ</code> : standard deviation of the Gaussian ring</li><li><code>s</code> : Slash amplitude. 0 means no slash, and 1 is maximal.</li></ul><pre><code class="language-julia hljs">RingTemplate(RadialGaussian(σ), AzimuthalCosine((s,), (zero(s),)))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL225-L245">source</a></section><section><div><pre><code class="language-julia hljs">SlashedGaussianRing(r0, σ, s, ξ, x0, y0)
</code></pre><p>Implements the slashed gaussian ring template, that uses a cosine to implement the slash.</p><p><strong>Arguments</strong></p><ul><li><code>r0</code>: radius of the ring</li><li><code>σ</code> : standard deviation of the Gaussian ring</li><li><code>s</code> : Slash amplitude. 0 means no slash, and 1 is maximal.</li><li><code>ξs</code>: azimuthal peak brightness P.A. measured east of north</li><li><code>x0</code>: location of the ring center horizontally</li><li><code>y0</code>: location of the ring center vertically</li></ul><p><strong>Notes</strong></p><p>This is a convienence constructor that uses <a href="#VIDA.RingTemplate"><code>RingTemplate</code></a> under the hood. To create this function your self do</p><pre><code class="language-julia hljs">modify(SlashedGaussianRing(σ/r0, s), Stretch(r0), Rotate(ξ), Shift(x0, y0))</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL249-L271">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.EllipticalGaussianRing" href="#VIDA.EllipticalGaussianRing"><code>VIDA.EllipticalGaussianRing</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">EllipticalGaussianRing(r0, σ, τ, ξτ, x0, y0)
</code></pre><p>Implements the elliptical gaussian ring template with semi-minor axis <code>a</code> and semi-major axis <code>b</code>.</p><p><strong>Arguments</strong></p><ul><li><code>r0</code>: geometric mean radius (√ab) of the ring</li><li><code>σ</code> : standard deviation of the Gaussian ring</li><li><code>τ</code> : asymmetry of the ring τ = 1-b/a</li><li><code>ξτ</code>: semi-major axis measured east of north</li><li><code>x0</code>: location of the ring center horizontally</li><li><code>y0</code>: location of the ring center vertically</li></ul><p><strong>Notes</strong></p><p>This is a convienence constructor that uses <a href="#VIDA.RingTemplate"><code>RingTemplate</code></a> under  the hood. To create this function your self do</p><p><code>julia  modify(GaussianRing(σ/r0), Stretch(r0*sqrt(1-τ), r0/sqrt(1-τ)), Rotate(ξτ), Shift(x0, y0))</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/rings.jl#LL276-L298">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.CosineRingwFloor" href="#VIDA.CosineRingwFloor"><code>VIDA.CosineRingwFloor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosineRingwFloor(r0, σ0, σ, ξσ, s, ξs, floor, x0, y0)
</code></pre><p>A Cosine ring with a <a href="#VIDA.GaussDisk"><code>GaussDisk</code></a> at the center of the ring that matches the <code>r0</code> and <code>σ0</code> of the CosineRing.</p><p>This is a convienence constructor of the more basic VLBISkyModel image constructors. It is equivalent to</p><pre><code class="language-julia hljs">CosineRing(r0, σ0, σ, ξσ, s, ξs, x0, y0) + floor*modify(GaussDisk(σ0/r0), Stretch(r0), Shift(x0, y0))</code></pre><p><strong>Details</strong></p><p>Adds ellipticity to the ring. The radius <code>r0</code> of the ring is now defined as the geometric mean of the semi-major (a) and semi-minor (b) axis lengths i.e.</p><p>r0 = √(a*b).</p><p>The ellipticity <code>τ</code> is given by τ = 1-b/a.</p><p><strong>Arguments</strong></p><ul><li><code>r0</code>: geometric mean radius (√ab) of the ring</li><li><code>σ0</code>: standard deviation of the Gaussian ring</li><li><code>σ</code> : amplitudes of the <code>N</code> order cosine expansion of the ring thickness</li><li><code>ξσ</code>: phase of the <code>N</code> order cosine expansion of the ring thickness</li><li><code>s</code> : amplitudes of the <code>M</code> order cosine expansion of the azimuthal brightness</li><li><code>ξs</code>: phase of the <code>N</code> order cosine expansion of the azimuthal brightness</li><li><code>floor</code>: The flux of the center Gaussian. This is relative to the CosineRing.</li><li><code>x0</code>: location of the ring center horizontally</li><li><code>y0</code>: location of the ring center vertically</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/cosinering.jl#LL69-L103">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.CosineRingwGFloor" href="#VIDA.CosineRingwGFloor"><code>VIDA.CosineRingwGFloor</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">CosineRingwGFloor(r0, σ0, σ, ξσ, s, ξs, floor, σG, x0, y0)
</code></pre><p>A Cosine ring with a Gaussian blob at the center of the ring. This is a convienence constructor of the more basic VLBISkyModel image constructors. It is equivalent to</p><pre><code class="language-julia hljs">CosineRing(r0, σ0, σ, ξσ, s, ξs, x0, y0) + floor*modify(Gaussian(), Stretch(σG), Shift(x0, y0))</code></pre><p><strong>Details</strong></p><p>Adds ellipticity to the ring. The radius <code>r0</code> of the ring is now defined as the geometric mean of the semi-major (a) and semi-minor (b) axis lengths i.e.</p><p>r0 = √(a*b).</p><p>The ellipticity <code>τ</code> is given by τ = 1-b/a.</p><p><strong>Arguments</strong></p><ul><li><code>r0</code>: geometric mean radius (√ab) of the ring</li><li><code>σ0</code>: standard deviation of the Gaussian ring</li><li><code>σ</code> : amplitudes of the <code>N</code> order cosine expansion of the ring thickness</li><li><code>ξσ</code>: phase of the <code>N</code> order cosine expansion of the ring thickness</li><li><code>s</code> : amplitudes of the <code>M</code> order cosine expansion of the azimuthal brightness</li><li><code>ξs</code>: phase of the <code>N</code> order cosine expansion of the azimuthal brightness</li><li><code>floor</code>: The flux of the center Gaussian. This is relative to the CosineRing.</li><li><code>σG</code>: The size of the central Gaussian.</li><li><code>x0</code>: location of the ring center horizontally</li><li><code>y0</code>: location of the ring center vertically</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/cosinering.jl#LL113-L144">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.EllipticalCosineRing" href="#VIDA.EllipticalCosineRing"><code>VIDA.EllipticalCosineRing</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">EllipticalCosineRing(r0, σ0, σ, ξσ, τ, ξτ, s, ξs, x0, y0)
</code></pre><p>An Elliptical Cosine ring. This is a convienence constructor of the more basic VLBISkyModel image constructors. It is equivalent to</p><pre><code class="language-julia hljs">modify(CosineRing(σ0/r0, σ/r0, ξσ, s, ξs .- ξτ),
            Stretch(r0*sqrt(1-τ), r0/sqrt(1-τ)),
            Rotate(ξτ),
            Shift(x0, y0)
        )</code></pre><p><strong>Details</strong></p><p>Adds ellipticity to the ring. The radius <code>r0</code> of the ring is now defined as the geometric mean of the semi-major (a) and semi-minor (b) axis lengths i.e.</p><p>r0 = √(a*b).</p><p>The ellipticity <code>τ</code> is given by τ = 1-b/a.</p><p><strong>Arguments</strong></p><ul><li><code>r0</code>: geometric mean radius (√ab) of the ring</li><li><code>σ0</code>: standard deviation of the Gaussian ring</li><li><code>σ</code> : amplitudes of the <code>N</code> order cosine expansion of the ring thickness</li><li><code>ξσ</code>: phase of the <code>N</code> order cosine expansion of the ring thickness</li><li><code>τ</code> : asymmetry of the ring τ = 1-b/a</li><li><code>ξτ</code>: semi-major axis measured east of north</li><li><code>s</code> : amplitudes of the <code>M</code> order cosine expansion of the azimuthal brightness</li><li><code>ξs</code>: phase of the <code>N</code> order cosine expansion of the azimuthal brightness</li><li><code>x0</code>: location of the ring center horizontally</li><li><code>y0</code>: location of the ring center vertically</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/templates/cosinering.jl#LL155-L189">source</a></section></article><h2 id="Images"><a class="docs-heading-anchor" href="#Images">Images</a><a id="Images-1"></a><a class="docs-heading-anchor-permalink" href="#Images" title="Permalink"></a></h2><p>VIDA has an image interface that reads in images using the FITS standard.</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>load_image</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>VIDA.blur(::ComradeBase.IntensityMap, ::Any)</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="VIDA.clipimage" href="#VIDA.clipimage"><code>VIDA.clipimage</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">clipimage(clip, image)
clipimage(clip, image, mode)
</code></pre><p>Clips the image <code>im</code> according to the value clip. There are two modes for image clipping:     - <code>:relative</code> which zeros the pixels whose intensity are below <code>clip</code> relative to the max.     - <code>:absolute</code> which zeros the pixels whose intensity is below <code>clip</code> in Jy/pixel</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/images.jl#LL3-L9">source</a></section></article><h2 id="Movies"><a class="docs-heading-anchor" href="#Movies">Movies</a><a id="Movies-1"></a><a class="docs-heading-anchor-permalink" href="#Movies" title="Permalink"></a></h2><p>VIDA also has a movie interface using hdf5. Note that movies are more than just a list of images. We also use an interpolation between frames.</p><article class="docstring"><header><a class="docstring-binding" id="VIDA.VIDAMovie" href="#VIDA.VIDAMovie"><code>VIDA.VIDAMovie</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct VIDAMovie{T, F&lt;:(AxisKeys.KeyedArray{T, 3, &lt;:Any, G} where G&lt;:ComradeBase.AbstractDims), I&lt;:Interpolations.AbstractExtrapolation} &lt;: VIDA.AbstractMovie</code></pre><p><strong>Details</strong></p><p>Holds a X,Y,T <code>IntensityMap</code> plus an interpolator that lets you make a continuous movie</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/movies.jl#LL7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.load_hdf5" href="#VIDA.load_hdf5"><code>VIDA.load_hdf5</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">load_hdf5(filename; style)
</code></pre><p>Loads an hdf5 file where <code>filename</code> should be a HDF5 file.</p><p><strong>Details</strong></p><p>This reads in a hdf5 file and outputs and EHTMovie object.</p><p><strong>Notes</strong></p><p>Currently this only works with movies created by <em>ehtim</em>. SMILI uses a different format, as does Illinois, and every other group...</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/io.jl#LL72-L82">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.save_hdf5" href="#VIDA.save_hdf5"><code>VIDA.save_hdf5</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">save_hdf5(filename, mov; style)
</code></pre><p>Saves and hdf5 file where <code>filename</code> is the write out location. Currently style only works with ehtim, namely we save HDF5 files that only work with ehtim.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/io.jl#LL91-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.join_frames" href="#VIDA.join_frames"><code>VIDA.join_frames</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">join_frames(times, images)
</code></pre><p>Joins an array of <code>IntensityMap</code> at specified times to form an VIDAMovie object.</p><p><strong>Inputs</strong></p><ul><li>times: An array of times that the image was created at</li><li>images: An array of EHTImage objects</li></ul><p><strong>Outputs</strong></p><p>VIDAMovie object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/movies.jl#LL70-L80">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.get_times" href="#VIDA.get_times"><code>VIDA.get_times</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_times(mov)
</code></pre><p>Returns the times that the movie object <code>mov</code> was created at. This does not have to be uniform in time.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/movies.jl#LL85-L89">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.get_frames" href="#VIDA.get_frames"><code>VIDA.get_frames</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_frames(mov)
</code></pre><p>Gets all the frames of the movie object <code>mov</code>. This returns a array of <code>EHTImage</code> objects.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/movies.jl#LL107-L111">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.get_image" href="#VIDA.get_image"><code>VIDA.get_image</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">get_image(mov, t; keeptime)
</code></pre><p>Gets the frame of the movie object <code>mov</code> at the time t. This returns an <code>EHTImage</code> object at the requested time. The returned object is found by linear interpolation.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/movies.jl#LL95-L99">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ComradeBase.flux-Tuple{VIDAMovie, Any}" href="#ComradeBase.flux-Tuple{VIDAMovie, Any}"><code>ComradeBase.flux</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">flux(mov, t)
</code></pre><p>Returns the flux of the <code>mov</code> at the times <code>time</code> in fractional hours</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/movies.jl#LL116-L119">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.blur-Tuple{VIDAMovie, Any}" href="#VIDA.blur-Tuple{VIDAMovie, Any}"><code>VIDA.blur</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">blur(mov, fwhm)
</code></pre><p>Blurs the <code>mov</code> with a gaussian kernel with fwhm in μas. If <code>fwhm</code> is a scalar then the kernel is assumed to be symmetric, otherwise you the first entry is the fwhm in the EW direction and second the NS direction.</p><p>Returns the blurred movie.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/movies.jl#LL126-L134">source</a></section></article><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>VLBISkyModels.regrid(::VIDAMovie)</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Divergences"><a class="docs-heading-anchor" href="#Divergences">Divergences</a><a id="Divergences-1"></a><a class="docs-heading-anchor-permalink" href="#Divergences" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="VIDA.AbstractDivergence" href="#VIDA.AbstractDivergence"><code>VIDA.AbstractDivergence</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">abstract type AbstractDivergence</code></pre><p>Defines an <code>AbstractDivergence</code> type. This is the basic cost function of <code>VIDA</code>.</p><p>A subtype of <code>AbstractDivergence</code> must be a <code>struct</code> with at least two fields</p><ul><li><code>img::IntensityMap</code> which holds the image you wish to run feature extraction on</li><li><code>mimg::IntensityMap</code> which is an internal buffer that stores the model image.</li></ul><p>The divergence is evaluated roughly as</p><pre><code class="language-julia hljs">    normalize_div(div, sum(divergence_point(div, image, model)))</code></pre><p>Therefore a user must implement the following methods</p><ul><li><a href="api/@ref">`divergence_point</a>`: Which evaluates the divergence at a single pixel</li><li><a href="api/@ref"><code>normalize_div</code></a>: Which normalizes and modifies the</li></ul><p>```</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/divergences.jl#LL3-L25">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.Bhattacharyya" href="#VIDA.Bhattacharyya"><code>VIDA.Bhattacharyya</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct Bhattacharyya{T&lt;:(AxisKeys.KeyedArray{T, N, &lt;:Any, G} where {T, N, G&lt;:ComradeBase.AbstractDims})} &lt;: VIDA.AbstractDivergence</code></pre><p>Type for the Bhattacharyya divergence. It constructed from an <code>EHTImage</code> i.e. data. Additionally to evaluate the divergence we use a functor approach where if θ is your</p><p><strong>Details</strong></p><p>This computes the Bhattacharyya divergence which is related to Hellinger distance between two distributions. In fact, they are both minimized at the same point. The Bhattacharyya divergence is defined as</p><p class="math-container">\[Bh(f_\theta||\hat{I}) = -\log\int \sqrt{f_\theta(x,y)\hat{I}(x,y)}dxdy,\]</p><p>where <span>$\hat{I}$</span> is defined as the image normalized to unit flux.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/divergences.jl#LL81-L96">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.KullbackLeibler" href="#VIDA.KullbackLeibler"><code>VIDA.KullbackLeibler</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct KullbackLeibler{T&lt;:(AxisKeys.KeyedArray{T, N, &lt;:Any, G} where {T, N, G&lt;:ComradeBase.AbstractDims})} &lt;: VIDA.AbstractDivergence</code></pre><p>Type for the KL divergence. It constructed from an <code>EHTImage</code> i.e. data. Additionally to evaluate the divergence we use a functor approach where if θ is your</p><p><strong>Details</strong></p><p>This computes the KL divergence which is related to Hellinger distance between two distributions. In fact, they are both minimized at the same point. The Bhattacharyya divergence is defined as</p><p class="math-container">\[KL(f_\theta||\hat{I}) = -\log\int f_{\theta}(x,y)\log
        \left(\frac{f_{\theta}(x,y)}{\hat{I}(x,y)}\right)dxdy,\]</p><p>where <span>$\hat{I}$</span> is defined as the image normalized to unit flux.</p><p>This struct is also a functor.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/divergences.jl#LL112-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.Renyi" href="#VIDA.Renyi"><code>VIDA.Renyi</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Renyi(img::EHTImage, α)</code></pre><p>Construct the Renyi divergence with parameter α. It constructed from an <code>EHTImage</code> i.e. data.</p><p><strong>Details</strong></p><p>This computes the KL divergence which is related to Hellinger distance between two distributions. In fact, they are both minimized at the same point. The Bhattacharyya divergence is defined as</p><p class="math-container">\[Ry(f_\theta||\hat{I}) = \frac{1}{α-1}\log\int log
        \left(\frac{f_{\theta}(x,y)^\alpha}{\hat{I}(x,y)^{\alpha-1}}\right)dxdy,\]</p><p>where <span>$\hat{I}$</span> is defined as the image normalized to unit flux.</p><p>This is a very flexible divergence that reduces to many of the other divergences implemented.</p><ul><li><code>α = 1</code> corresponds to the KL divergence</li><li><code>α = 1/2</code> corresponds to the Bhattacharyya divergence up to a multiplicative factor of 2</li></ul><p>Typically we find that <code>α=1.5</code> works well, as it focusses on the bright regions of the images moreso than the Bh and KL divergence. For <code>α&gt;2</code> the measure tends to devolve in something akin the to sup norm and fails to match the image structure.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/divergences.jl#LL148-L170">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="VIDA.LeastSquares" href="#VIDA.LeastSquares"><code>VIDA.LeastSquares</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">struct LeastSquares{T} &lt;: VIDA.AbstractDivergence</code></pre><p>Type for the least squares divergence. It constructed from an <code>EHTImage</code> i.e. data. Additionally to evaluate the divergence we use a functor approach where if θ is your</p><p><strong>Details</strong></p><p>This computes the squared 2 norm between your image and template, both of which are normalized to unit flux.</p><p>To construct this just pass it an image object</p><pre><code class="language-julia hljs">ls = LeastSquares(img::EHTImage)</code></pre><p><strong>Notes</strong></p><p>We have a template internal matrix the prevents internal allocations during computation This is a internal feature that the user does not need to worry about.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/divergences.jl#LL185-L202">source</a></section></article><h2 id="Extractor"><a class="docs-heading-anchor" href="#Extractor">Extractor</a><a id="Extractor-1"></a><a class="docs-heading-anchor-permalink" href="#Extractor" title="Permalink"></a></h2><p>This defines the interface to the optimizers that can find the optimal template for a given image.</p><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>VIDAProblem</code>. Check Documenter&#39;s build log for details.</p></div></div><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>vida</code>. Check Documenter&#39;s build log for details.</p></div></div><h2 id="Visualizations"><a class="docs-heading-anchor" href="#Visualizations">Visualizations</a><a id="Visualizations-1"></a><a class="docs-heading-anchor-permalink" href="#Visualizations" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="VIDA.triptic" href="#VIDA.triptic"><code>VIDA.triptic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia hljs">triptic(img::SpatialIntensityMap, template)</code></pre><p>Plots a triptic where the left panel is the <code>img</code> middle the <code>template</code> and the right a two cross-sections of the image and template</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/ptiede/VIDA.jl/blob/4d62e83867eb6f684f058d3063040504b01d0107/src/visualizations.jl#LL1-L6">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../../generated/custom_template/">« Adding a Custom Template</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Monday 21 August 2023 02:49">Monday 21 August 2023</span>. Using Julia version 1.9.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
